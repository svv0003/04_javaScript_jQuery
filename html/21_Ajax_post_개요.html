<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>21_Ajax_post_개요</title>
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="../css/21_Ajax_post_개요.css" />
    <link rel="icon" type="image/png" href="../img/logo.png" />
  </head>
  <body>
    <h1>Ajax.post() 개요</h1>
    <pre>
      $.post()는 jQuery 메소드, HTTP post 요청을 서버로 전송한다.

      <code>
        $.post(URL, data, success_callback, dataType)
      </code>

      비동기 통신 : 페이지 새로고침 없이 서버와 통신한다.
      데이터 전송 : JSON, 폼 데이터 등을 서버로 전송한다.
      간편한 사용 : $.ajax()의 단축 버전

      <code>
        // 기본 사용법
        
        $.post(
          "URL 주소",
          {
            서버로 전송할 컬럼 키 1 : "서버에 저장할 데이터 값 1"
            서버로 전송할 컬럼 키 2 : "서버에 저장할 데이터 값 2"
            서버로 전송할 컬럼 키 3 : "서버에 저장할 데이터 값 3"
          }
        )
        .done(function(res){
          console.log("데이터 서버로 전달하는 것을 성공하였습니다.")
        })
        .fail(function(error){
          console.log("데이터 서버로 전달하는 것을 실패하였습니다.")
        })
        ________옵션(선택사항)
        .always(성공/실패 결과에 상관없이 마지막에 무조건 실행하는 함수)
      </code>

      약속 체이닝(promise) : 비동기 작업을 순차적으로 연결 (기차칸을 연결하듯 여러 작업을 붙이는 것)
                          비동기 함수의 처리 결과로 다른 비동기 함수 호출하는 경우
                          함수 기능의 호출이 중첩되어 복잡도가 높아진다.
                          후속 처리 기능을 체이닝하여 여러 개의 프로미스를 연결하여 사용할 수 있다.

                          약속(Promise)   : "나중에 줄께"와 같이 추후에 작업할 것을 야기하는 것
                                            1. 대기 : 잠깐 기다려
                                            2. 성공 : 작업을 수행한 경우에 따른 결과
                                            3. 실패 : 작업을 하지 못한 경우에 따른 결과
                          체이닝(Chaining) : 사슬처럼 기능을 연결하는 것

      약속 + 체이닝 : 해야하는 기능을 약속처럼 줄줄이 연결하는 것

      주문하기()
        .done() -> 주문하기 성공에 따른 기능 체이닝된 상태
        .fail() -> 주문하기 실패에 따른 기능 체이닝된 상태

      <code>
        // 약속 체이닝(Promise)

        $.post("/api/signup", userData)
          .done(처리 성공 함수)
          .fail(에러 처리 함수)
          .always(마지막에 항상 실행하는 함수)
      </code>
    </pre>

    <h3>브라우저 보안 정책과 파일 시스템 접근 (local storage)</h3>
    <pre>
      데이터를 저장할 때 다양한 방법 존재

      1) DB (Data Base) 저장    : 개념 - 서버의 데이터베이스 (MsySql, Oracle, MongoDB 등에 저장)
                                 장점 - 대용량 데이터 저장 가능 / 여러 사용자 공유 가능 / 영구 저장 가능 / 복잡한 쿼리 가능 / 보안성 높다 -> 최고다.
                                 단점 - 서버 구축 필요 / 비용 발생 / 네트워크 연결 필수 / 설정 복잡함
                                 방법 - 다양한 방법 존재
                                       주로 DB에 저장하는 형테
                                       Java, NodeJs 이용해서 다수 저장
                                 시기 - 실제 서비스, 회원정보, 중요 데이터 저장

      2) JSON 형태 저장          : (NodeJs 사용 전까지는 지양)
                                 개념 - DB 대신 컴퓨터나 서버의 파일 시스템에 .json 파일로 저장
                                       엑셀, 한글파일, txt 형식 등 다양한 형태로 저장 가능하지만
                                       json 형태로 저장하고 읽는 것이 빠르기 때문에 주로 json 형태로 읽고 저장한다.
                                       json 존재하는 파일을 읽는 용도, 저장하는 용도 X
                                       NodeJs나 Java와 같은 서버를 통해서만 저장 가능
                                 단점 - 브라우저에서 직접적으로 사용 불가능
                                 시기 - 개발 중에 테스트, 소규모 프로젝트, 설정 파일 저장

      3) localStorage 저장      : 개념 - 브라우저의 로컬 저장소에 저장
                                 장점 - 서버 불필요, 즉시 사용 가능, 간단한 API, 페이지 새로고침해도 유지, 빠른 속도
                                 단점 - 5-10MB 용량 제한, 브라우저 별로 독립적, 사용자가 삭제 가능, 문자열만 저장 가능, 보안 취약함
                                 시기 - 임시 데이터, 사용자 설정, 장바구니, 학습/연습용
                                 저장 위치 - 개별 컴퓨터의 chrome 내부 또는 엣지 내부 등 브라우저 별 내부에 위치한다.
                                           방문기록 캐시 등 삭제하면 저장된 데이터도 지워진다.

    </pre>
    










    <script src="../js/21_Ajax_post_개요.js"></script>
  </body>
</html>